{% extends "JobFinder_app/base.html" %}
{% block title %}Interview Review â€“ LiteSpeedJobs{% endblock %}

{% block content %}
<div class="container mt-4">

    <h2>Interview Review</h2>
    <p class="dark-muted">
        Job: <strong>{{ assignment.job.title }}</strong><br>
        Candidate: <strong>Candidate #{{ assignment.seeker.id }}</strong>
    </p>

    <hr>

    {% for r in responses %}
        <div class="card mb-4 shadow-sm">
            <div class="card-body">

                <h5>Question</h5>
                <p>{{ r.question }}</p>

                <p class="dark-muted"><strong>Answer:</strong></p>
                <p class="dark-muted">{{ response.text_answer|linebreaks }}</p>
                {% if response.video %}
                <video controls preload="metadata" style="width:100%;max-height:400px;">
                    <source src="{{ r.video.url }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                {% endif %}
            </div>
        </div>
    {% empty %}
        <p class="dark-muted    ">No responses found.</p>
    {% endfor %}

    <div class="d-flex gap-2 mt-4">
        <a href="{% url 'hire_from_assignment' assignment.id %}"
           class="btn btn-success">
            Hire Candidate
        </a>

        <a href="{% url 'employer_dashboard' %}"
           class="btn btn-outline-secondary">
            Back to Dashboard
        </a>
    </div>

</div>
{% endblock %}
